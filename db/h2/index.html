<!DOCTYPE html>
<html lang="cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">

    
      <link rel="icon" href="/docs/favicon.png" />
    

    <title>
        
          å†…å­˜æ•°æ®åº“-H2 - FASTJUNIT
        
    </title>

    <!-- Spectre.css framework -->
    <!-- <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre-icons.min.css"> -->

    <link rel="stylesheet" href="/docs/css/spectre.min.css">
    <link rel="stylesheet" href="/docs/css/spectre-exp.min.css">
    <link rel="stylesheet" href="/docs/css/spectre-icons.min.css">

    <!-- theme css & js -->
    
<link rel="stylesheet" href="/docs/css/book.css">

    
<script src="/docs/js/book.js"></script>


    <!-- tocbot -->
    <script src="/docs/js/tocbot.min.js"></script>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css"> -->
    <link rel="stylesheet" href="/docs/css/tocbot.css">
    
    <!-- katex -->
    <link rel="stylesheet" href="/docs/css/katex.min.css">

    
    
<script src="/docs/js/zooming.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const zooming = new Zooming()
    zooming.listen('.book-content img')
})
</script>

<meta name="generator" content="Hexo 5.1.1"></head>

<body>

<div class="book-container">
  <div class="book-sidebar">
    <div class="book-brand">
  <a href="/docs/">
    <img src="/docs/favicon.png">
    <span>FASTJUNIT</span>
  </a>
</div>
    <div class="book-menu">
  <ul>
<li><a href="/docs/">æ¦‚è¿°</a></li>
<li><a href="/docs/changelog">ç‰ˆæœ¬</a></li>
<li><a href="/docs/test-basic/quick-start">å¿«é€Ÿå¼€å§‹</a></li>
</ul>
<h2 id="åŸºç¡€æ¨¡å—">åŸºç¡€æ¨¡å—</h2>
<ul>
<li><a href="/docs/test-basic/mock">Mock</a></li>
<li><a href="/docs/test-basic/parameter-csv">å‚æ•°åŒ–æµ‹è¯•-CSV</a></li>
<li><a href="/docs/test-basic/parameter-json">å‚æ•°åŒ–æµ‹è¯•-JSON</a></li>
<li><a href="/docs/test-basic/assert">ç»“æœæ–­è¨€</a></li>
<li><a href="/docs/test-basic/dataProvider">æ•°æ®ç”Ÿæˆå™¨</a></li>
</ul>
<h2 id="æ•°æ®åº“æµ‹è¯•">æ•°æ®åº“æµ‹è¯•</h2>
<ul>
<li><a href="/docs/db/h2">H2</a></li>
</ul>
<h2 id="é«˜çº§è¿›é˜¶">é«˜çº§è¿›é˜¶</h2>
<ul>
<li>
<p><a href="/docs/parallel/junit5-parallel">junit5-parallel</a></p>
</li>
<li>
<p><a href="/docs/parallel/surefire-parallel">surefire-parallel</a></p>
</li>
<li>
<p><a href="/docs/test-advance/shortcut-key">å…³äºå•æµ‹çš„ IDEA å¿«æ·é”®</a></p>
</li>
</ul>
<h2 id="æµ‹è¯•æŠ¥å‘Š">æµ‹è¯•æŠ¥å‘Š</h2>
<ul>
<li><a href="/docs/test-basic/jacoco-report">Jacoco</a></li>
</ul>
<!-- ## ä¿®å¤é—®é¢˜

* [list test](/docs/)
* [blockquote position](/docs/) -->
<h2 id="ä¹¦å†™æ ¼å¼æ ·ä¾‹-ğŸ˜">ä¹¦å†™æ ¼å¼æ ·ä¾‹ ğŸ˜</h2>
<ul>
<li><a href="/docs/demo/render/markdown-it-demo">markdown-it demo</a></li>
<li><a href="/docs/demo/render/katex-demo">katex demo</a></li>
<li><a href="/docs/demo/render/footnotes-demo">footnotes demo</a></li>
<li><a href="/docs/demo/render/md-container">markdown-container</a></li>
</ul>

</div>


<script src="/docs/js/book-menu.js"></script>

  </div>

  <div class="sidebar-toggle" onclick="sidebar_toggle()" onmouseover="add_inner()" onmouseleave="remove_inner()">
  <div class="sidebar-toggle-inner"></div>
</div>

<script>
function add_inner() {
  let inner = document.querySelector('.sidebar-toggle-inner')
  inner.classList.add('show')  
}

function remove_inner() {
  let inner = document.querySelector('.sidebar-toggle-inner')
  inner.classList.remove('show')
}

function sidebar_toggle() {
    let sidebar_toggle = document.querySelector('.sidebar-toggle')
    let sidebar = document.querySelector('.book-sidebar')
    let content = document.querySelector('.off-canvas-content')
    if (sidebar_toggle.classList.contains('extend')) { // show
        sidebar_toggle.classList.remove('extend')
        sidebar.classList.remove('hide')
        content.classList.remove('extend')
    }
    else { // hide
        sidebar_toggle.classList.add('extend')
        sidebar.classList.add('hide')
        content.classList.add('extend')
    }
}
</script>

  <div class="off-canvas-content">
    <div class="columns">
      <div class="column col-10 col-lg-12">
        <div class="book-navbar">
          <!-- For Responsive Layout -->

<header class="navbar">
  <section class="navbar-section">
    <a onclick="open_sidebar()">
      <i class="icon icon-menu"></i>
    </a>
  </section>
</header>

        </div>
        <div class="book-content">
          <div class="book-post">
  <h2 id="å‰è¨€">å‰è¨€</h2>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://www.h2database.com/html/main.html">H2æ•°æ®åº“</a> æ˜¯ä¸€ä¸ªå¼€æºçš„åµŒå…¥å¼æ•°æ®åº“å¼•æ“ï¼Œé‡‡ç”¨ java è¯­è¨€ç¼–å†™ï¼Œä¸å—å¹³å°çš„é™åˆ¶ï¼Œ<br>
èƒ½å¤Ÿæ”¯æŒæ ‡å‡†çš„ SQL è¯­æ³•ï¼Œæ”¯æŒå­˜å‚¨è¿‡ç¨‹ç­‰ã€‚å› æ­¤é‡‡ç”¨ H2 æ•°æ®åº“ä½œä¸ºå¼€å‘æœŸã€æµ‹è¯•æœŸå’Œæ¼”ç¤ºçš„æ•°æ®åº“éå¸¸æ–¹ä¾¿ï¼Œä¸è¿‡ä¸å¤ªé€‚åˆä½œä¸ºå¤§è§„æ¨¡ç”Ÿäº§æ•°æ®åº“ã€‚</p>
</blockquote>
<p>H2 ä¸»è¦æœ‰å¦‚ä¸‹ä¸‰ä¸ªç”¨é€”ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªç”¨é€”ï¼Œä¹Ÿæ˜¯æœ€å¸¸ä½¿ç”¨çš„ç”¨é€”å°±åœ¨äºå¯ä»¥åŒåº”ç”¨ç¨‹åºæ‰“åŒ…åœ¨ä¸€èµ·å‘å¸ƒï¼Œè¿™æ ·å¯ä»¥éå¸¸æ–¹ä¾¿åœ°å­˜å‚¨å°‘é‡ç»“æ„åŒ–æ•°æ®ã€‚</li>
<li>ç¬¬äºŒä¸ªç”¨é€”æ˜¯ç”¨äºå•å…ƒæµ‹è¯•ã€‚å¯åŠ¨é€Ÿåº¦å¿«ï¼Œè€Œä¸”å¯ä»¥å…³é—­æŒä¹…åŒ–åŠŸèƒ½ï¼Œæ¯ä¸€ä¸ªç”¨ä¾‹æ‰§è¡Œå®Œéšå³è¿˜åŸåˆ°åˆå§‹çŠ¶æ€ã€‚</li>
<li>ç¬¬ä¸‰ä¸ªç”¨é€”æ˜¯ä½œä¸ºç¼“å­˜ï¼Œå³å½“åšå†…å­˜æ•°æ®åº“ï¼Œä½œä¸º NoSQL çš„ä¸€ä¸ªè¡¥å……ã€‚å½“æŸäº›åœºæ™¯ä¸‹æ•°æ®æ¨¡å‹å¿…é¡»ä¸ºå…³ç³»å‹ï¼Œå¯ä»¥æ‹¿å®ƒå½“ Memcached ä½¿ï¼Œä½œä¸ºåç«¯ MySQL/Oracle çš„ä¸€ä¸ªç¼“å†²å±‚ï¼Œç¼“å­˜ä¸€äº›ä¸ç»å¸¸å˜åŒ–ä½†éœ€è¦é¢‘ç¹è®¿é—®çš„æ•°æ®ï¼Œæ¯”å¦‚å­—å…¸è¡¨ã€æƒé™è¡¨ã€‚</li>
</ul>
<p><strong>å€ŸåŠ© H2 åšæŒä¹…å±‚çš„å•å…ƒæµ‹è¯•æ˜¯ä¸€ä¸ªä¸é”™çš„æ–¹æ¡ˆ</strong></p>
<h2 id="1-ç®€å•-SQL-çš„æµ‹è¯•">1 ç®€å• SQL çš„æµ‹è¯•</h2>
<p>æˆ‘ä»¬æä¾›äº† H2DBUtil å·¥å…·ç±»å’Œ @H2DB æ³¨è§£æ¥ç›´æ¥æ‰§è¡Œ SQL è¯­å¥ï¼Œåªéœ€è¦åœ¨ @H2DB æ³¨è§£ä¸­å®šä¹‰å¥½éœ€è¦æ‰§è¡Œçš„ SQL æ–‡ä»¶å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FunctionsTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@H2DB(value = &quot;/sql/testing.sql&quot;)</span></span><br><span class="line">    H2DBUtil h2DBUtil;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        h2DBUtil.executeQuery();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-Mybatis-æŒä¹…å±‚å•æµ‹">2 Mybatis æŒä¹…å±‚å•æµ‹</h2>
<blockquote>
<p>ç”±äºæˆ‘ä»¬çš„å·¥å…· SDK æ²¡æœ‰å¼•å…¥ <code>Mybatis</code> å’Œ <code>Spring</code> ä¾èµ–ï¼Œæ‰€ä»¥è¿™ä¸ªåœºæ™¯çš„å·¥å…·è¿˜æ²¡æœ‰æ€ä¹ˆå°è£…ã€‚<br>
å¯¹äºæŒä¹…å±‚çš„å•æµ‹ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›é…ç½®ï¼Œä¹Ÿå°±æ˜¯å°†åŸºäº MySQL çš„ DataSource è½¬æ¢æˆåŸºäº H2 æ•°æ®åº“çš„ï¼Œä»¥æ­¤æ¥è§£è€¦å¯¹äº MySQL çš„ä¾èµ–ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@MapperScan(basePackages = &quot;com.lucky.example.infrastructure.*.mapper&quot;, sqlSessionFactoryRef = &quot;sqlSessionFactory&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MockDatabaseConfig</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(name = &quot;sampleDataSource&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">sampleDatasource</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> MockDatabase.context.dataSource();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource(name = &quot;sampleDataSource&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> DataSource sampleDataSource;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(name = &quot;transactionManager&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSourceTransactionManager <span class="title">transactionManager</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DataSourceTransactionManager(sampleDataSource);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(name = &quot;sqlSessionFactory&quot;)</span></span><br><span class="line">    <span class="meta">@Primary</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SqlSessionFactory <span class="title">sqlSessionFactory</span><span class="params">()</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        SqlSessionFactoryBean bean = <span class="keyword">new</span> SqlSessionFactoryBean();</span><br><span class="line">        bean.setDataSource(sampleDataSource);</span><br><span class="line">        bean.setMapperLocations(</span><br><span class="line">                <span class="comment">// è®¾ç½®mybatisçš„xmlæ‰€åœ¨ä½ç½®</span></span><br><span class="line">                <span class="keyword">new</span> PathMatchingResourcePatternResolver().getResources(<span class="string">&quot;classpath*:mapper/*.xml&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> bean.getObject();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">``` </span><br><span class="line">æ¥ç€ï¼Œæˆ‘ä»¬æŠŠæŒä¹…å±‚çš„æ¥å£æ³¨å…¥è¿›æ¥ï¼Œå°±èƒ½è¿›è¡ŒæŒä¹…å±‚çš„å•å…ƒæµ‹è¯•äº†ã€‚</span><br><span class="line">```java</span><br><span class="line"><span class="meta">@Import(&#123;MockDatabaseConfig.class&#125;)</span></span><br><span class="line"><span class="meta">@ExtendWith(SpringExtension.class)</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@TestMethodOrder(MethodOrderer.OrderAnnotation.class)</span></span><br><span class="line"><span class="meta">@Rollback(false)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoodsMapperTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    GoodsMapper goodsMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="meta">@Order(1)</span></span><br><span class="line">    <span class="meta">@DisplayName(&quot;æ•°æ®åº“å•æµ‹ç”¨ä¾‹ - æŸ¥è¯¢&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">select</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        GoodsPo goodsPo = <span class="keyword">new</span> GoodsPo(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="string">&quot;sku-1&quot;</span>, <span class="number">10</span>);</span><br><span class="line">        GoodsPo result = goodsMapper.selectOne(goodsPo.getId());</span><br><span class="line">        Assertions.assertThat(result)</span><br><span class="line">                .hasFieldOrPropertyWithValue(<span class="string">&quot;id&quot;</span>, goodsPo.getId())</span><br><span class="line">                .hasFieldOrPropertyWithValue(<span class="string">&quot;name&quot;</span>, goodsPo.getName())</span><br><span class="line">                .hasFieldOrPropertyWithValue(<span class="string">&quot;sku&quot;</span>, goodsPo.getSku())</span><br><span class="line">                .hasFieldOrPropertyWithValue(<span class="string">&quot;inventory&quot;</span>, goodsPo.getInventory());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-H2-æ•°æ®åº“å¯¹-MySQL-çš„å‡½æ•°æ‰©å±•">3. H2 æ•°æ®åº“å¯¹ MySQL çš„å‡½æ•°æ‰©å±•</h2>
<blockquote>
<p>è™½ç„¶ H2 æ•°æ®åº“èƒ½å¤Ÿæ”¯æŒæ ‡å‡†çš„ SQL è¯­æ³•ï¼Œä½†å¯¹ Oracle/MySQL ä¸­çš„å†…ç½®å‡½æ•°å´æ˜¾å¾—æ— èƒ½ä¸ºåŠ›ï¼Œæ¯”å¦‚ MD5()ã€TIMEDIFF() ç­‰ç­‰ã€‚å®é™…å¼€å‘ä¸­ï¼Œ<br>
æˆ‘ä»¬æ— å¯é¿å…ä¼šä½¿ç”¨åˆ°ä¸€äº›å†…ç½®å‡½æ•°ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬æ‰©å±•äº†ä¸€äº›å¸¸ç”¨çš„ MySQL å‡½æ•°ï¼ˆOracle/SQLServer çš„æ•°æ®åº“å‡½æ•°éœ€è‡ªå®šä¹‰æ‰©å±•ï¼‰ï¼Œä¹Ÿæ”¯æŒç”¨æˆ·<br>
è‡ªå®šä¹‰æ‰©å±•ã€‚</p>
</blockquote>
<h3 id="3-1-è‡ªå®šä¹‰æ‰©å±•">3.1 è‡ªå®šä¹‰æ‰©å±•</h3>
<p>é¦–å…ˆï¼Œç”¨æˆ·éœ€è¦å®šä¹‰ä¸€ä¸ª H2Function å®ä¾‹ï¼Œ<b> function </b> å±æ€§è¡¨ç¤ºæ‰©å±•çš„å‡½æ•°åˆ«ç§°ï¼Œæ¯”å¦‚ â€œMD5â€ï¼›<b>fullClassName</b> è¡¨ç¤ºå®ç°è¯¥å‡½æ•°çš„å…¨ç±»åè·¯å¾„ + æ–¹æ³•ï¼Œæ¯”å¦‚ â€œcom.lucky.ut.effective.h2.mysql.EncryptionFunctions.md5â€ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">H2Function</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Mysql function aliasï¼Œetcï¼šversion</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String function;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The full class name for this function implementation</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String fullClassName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå†æŠŠå®šä¹‰å¥½çš„å®ä¾‹æ·»åŠ åˆ° com.lucky.ut.effective.h2.H2FunctionsLoader çš„ H2_FUNCTIONS é›†åˆå†…ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">H2FunctionsLoader</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">final</span> Set&lt;H2Function&gt; H2_FUNCTIONS = <span class="keyword">new</span> CopyOnWriteArraySet&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> h2Function</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(H2Function h2Function)</span> </span>&#123;</span><br><span class="line">        H2_FUNCTIONS.add(h2Function);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> collection</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">addAll</span><span class="params">(Collection&lt;H2Function&gt; collection)</span> </span>&#123;</span><br><span class="line">        H2_FUNCTIONS.addAll(collection);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-2-ç›®å‰å·²ç»æ‰©å±•çš„-MySQL-å‡½æ•°åˆ—è¡¨">3.2 ç›®å‰å·²ç»æ‰©å±•çš„ MySQL å‡½æ•°åˆ—è¡¨</h3>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>æ‰©å±•å®ç°è·¯å¾„</th>
</tr>
</thead>
<tbody>
<tr>
<td>ADDDATE</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.addDate</td>
</tr>
<tr>
<td>ADDTIME</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.addTime</td>
</tr>
<tr>
<td>TIME</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.time</td>
</tr>
<tr>
<td>UTC_TIMESTAMP</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.utcTimestamp</td>
</tr>
<tr>
<td>UTC_DATE</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.utcDate</td>
</tr>
<tr>
<td>UTC_TIME</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.utcTime</td>
</tr>
<tr>
<td>FROM_DAYS</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.fromDays</td>
</tr>
<tr>
<td>TO_DAYS</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.toDays</td>
</tr>
<tr>
<td>TO_SECONDS</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.toSeconds</td>
</tr>
<tr>
<td>TIME_TO_SEC</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.timeToSeconds</td>
</tr>
<tr>
<td>DATE_FORMAT</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.dateFormat</td>
</tr>
<tr>
<td>TIME_FORMAT</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.timeFormat</td>
</tr>
<tr>
<td>LAST_DAY</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.lastDay</td>
</tr>
<tr>
<td>MAKEDATE</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.makeDate</td>
</tr>
<tr>
<td>MAKETIME</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.makeTime</td>
</tr>
<tr>
<td>SEC_TO_TIME</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.secondsToTime</td>
</tr>
<tr>
<td>SLEEP</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.sleep</td>
</tr>
<tr>
<td>STR_TO_DATE</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.strToDate</td>
</tr>
<tr>
<td>SUBDATE</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.subDate</td>
</tr>
<tr>
<td>SUBTIME</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.subTime</td>
</tr>
<tr>
<td>YEARWEEK</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.yearWeek</td>
</tr>
<tr>
<td>WEEKOFYEAR</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.weekOfYear</td>
</tr>
<tr>
<td>WEEKDAY</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.weekDay</td>
</tr>
<tr>
<td>MICROSECOND</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.microSecond</td>
</tr>
<tr>
<td>CONVERT_TZ</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.convertTZ</td>
</tr>
<tr>
<td>PERIOD_ADD</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.periodAdd</td>
</tr>
<tr>
<td>PERIOD_DIFF</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.periodDiff</td>
</tr>
<tr>
<td>TIMEDIFF</td>
<td>com.lucky.ut.effective.h2.mysql.DateTimeFunctions.timeDiff</td>
</tr>
<tr>
<td>MD5</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.md5</td>
</tr>
<tr>
<td>SHA1</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.sha1</td>
</tr>
<tr>
<td>SHA</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.sha</td>
</tr>
<tr>
<td>HEX</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.hex</td>
</tr>
<tr>
<td>UNHEX</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.unhex</td>
</tr>
<tr>
<td>PASSWORD</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.password</td>
</tr>
<tr>
<td>TO_BASE64</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.base64</td>
</tr>
<tr>
<td>FROM_BASE64</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.unbase64</td>
</tr>
<tr>
<td>RANDOM_BYTES</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.randomBytes</td>
</tr>
<tr>
<td>AES_ENCRYPT</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.aesEncrypt</td>
</tr>
<tr>
<td>AES_DECRYPT</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.aesDecrypt</td>
</tr>
<tr>
<td>CRC32</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.crc32</td>
</tr>
<tr>
<td>CREATE_DIGEST</td>
<td>com.lucky.ut.effective.h2.mysql.EncryptionFunctions.createDigest</td>
</tr>
<tr>
<td>BIN</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.bin</td>
</tr>
<tr>
<td>UUID_SHORT</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.uuidShort</td>
</tr>
<tr>
<td>FIND_IN_SET</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.findInSet</td>
</tr>
<tr>
<td>IS_IPV4</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.isIpv4</td>
</tr>
<tr>
<td>IS_IPV6</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.isIpv6</td>
</tr>
<tr>
<td>IS_UUID</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.isUUID</td>
</tr>
<tr>
<td>REVERSE</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.reverse</td>
</tr>
<tr>
<td>SUBSTRING_INDEX</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.subStringIndex</td>
</tr>
<tr>
<td>STRCMP</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.strCmp</td>
</tr>
<tr>
<td>CHARSET</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.charset</td>
</tr>
<tr>
<td>FIELD</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.field</td>
</tr>
<tr>
<td>MID</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.mid</td>
</tr>
<tr>
<td>ORD</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.ord</td>
</tr>
<tr>
<td>QUOTE</td>
<td>com.lucky.ut.effective.h2.mysql.StringFunctions.quote</td>
</tr>
<tr>
<td>POW</td>
<td>com.lucky.ut.effective.h2.mysql.MathFunctions.pow</td>
</tr>
<tr>
<td>CONV</td>
<td>com.lucky.ut.effective.h2.mysql.MathFunctions.conv</td>
</tr>
<tr>
<td>FORMAT</td>
<td>com.lucky.ut.effective.h2.mysql.MiscFunctions.format</td>
</tr>
<tr>
<td>VERSION</td>
<td>com.lucky.ut.effective.h2.mysql.MiscFunctions.version</td>
</tr>
<tr>
<td>CONNECTION_ID</td>
<td>com.lucky.ut.effective.h2.mysql.MiscFunctions.connectId</td>
</tr>
<tr>
<td>SESSION_USER</td>
<td>com.lucky.ut.effective.h2.mysql.MiscFunctions.sessionUser</td>
</tr>
<tr>
<td>SYSTEM_USER</td>
<td>com.lucky.ut.effective.h2.mysql.MiscFunctions.sessionUser</td>
</tr>
<tr>
<td>CURRENT_ROLE</td>
<td>com.lucky.ut.effective.h2.mysql.MiscFunctions.currentRole</td>
</tr>
</tbody>
</table>

</div>




<script src="/docs/js/book-post.js"></script>

        </div>
      </div>
      <div class="column col-2 hide-lg">
        <div class="book-post-info">
  
    <div class="book-post-meta">

  <div class="author">

    <!-- Author image -->
    <div class="author-img">
      
        <figure
          class="avatar avatar-lg"
          data-initial="x"
          style="background-color: #3b4351;">
        </figure>
      
    </div>

    <!-- Author title -->
    <div class="author-title">
      <div>xiuyin.cui</div>
      <div>2020-09-15</div>
    </div>
  </div>

  

  <div class="divider"></div>
</div>
  

  <div class="book-tocbot">
</div>
<div class="book-tocbot-menu">
  <a class="book-toc-expand" onclick="expand_toc()">Expand all</a>
  <a onclick="go_top()">Back to top</a>
  <a onclick="go_bottom()">Go to bottom</a>
</div>


<script src="/docs/js/book-toc.js"></script>

</div>
      </div>
    </div>
  </div>
  
  <a class="off-canvas-overlay" onclick="hide_canvas()"></a>
</div>

</body>
</html>


<script src="/docs/js/book.js"></script>
